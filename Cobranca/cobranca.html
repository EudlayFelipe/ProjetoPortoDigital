<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Style da página de cobrança -->
    <link rel="stylesheet" href="./cobranca.css">
    <!-- Include Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!-- Link do Icon Piggy Bank -->
    <link rel="icon" type="image/png" href="../LandingPage/logo oficial.png" />

    <meta name="author" content="Jairo Williams, Caio Guilherme, Guilherme Facury, Sthephane Cardoso">
    <meta name="description" content="Home Work of Univeristy Tiradentes for Porto Digital">
    <title>Cobrança</title>
</head>


<body class="body container-fluid">
    <!-- Navbar -->
    <nav class="navbar navbar-dark navbar-expand-md" role="navigation">
        <div class="container-fluid ">
            <a class="navbar-brand" href="../index.html"><img src="../LandingPage/logo oficial.png" alt="Logo" width="50"
                    height="50">
                <h3 class="name-logo d-inline-block align-text-top">Piggy Bank</h3>
            </a>
            <!-- Button do menu mobile -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup"
                aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- Div dos links -->
            <div class="collapse navbar-collapse justify-content-end align-items-center" id="navbarNavAltMarkup">
                <div class="navbar-nav d-flex justify-content-center align-items-center text-center gap-2">
                    <a class="nav-link w-100" id="link-home" aria-current="page" href="../index.html">Home</a>
                    <a class="nav-link active w-100" id="link-logout" href="../index.html">LogOut</a>
                </div>
            </div>
        </div>
    </nav>


    <!-- Modal -->
    <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="staticBackdropLabel" aria-hidden="true">

        <div class="modal-dialog modal-dialog-scrollable modal-lg">
            <!-- Conteúdo do Modal -->
            <div class="modal-content">

                <!-- Alert do bootstrap -->
                <div id="liveAlertPlaceholder"></div>

                <div class="modal-header" id="modal-header-main">
                    <h1 class="modal-title fs-5 title-modal" id="staticBackdropLabel">...</h1>
                    <button type="button" class="btn-close btn-reset-modal" id="btn-close-modal" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <!-- Modal para descer as telas do Select Payment -->
                <div class="modal-body">

                    <!-- Div do Conteúdo do QR Code -> Caso escolha Pix -->
                    <div class="col-md-12" id="pix_div" style="display:none;">
                        <!-- Card do QR Code -> Caso escolha Pix -->
                        <div class="card" id="card-payment">
                            <div class="card-body">

                                <div class="d-flex justify-content-center row">
                                    <div class="col-md-3 d-flex justify-content-center mb-3">
                                        <img src="./images/qrcode.png" alt="" srcset="" style="max-width: 166px;">
                                    </div>
                                    <div class="col-md-9"><label for="" class="form-label">Pix Copia e Cola</label>
                                        <textarea class="form-control w-100" name="" id="" cols="30"
                                            rows="5">00020126460014br.gov.bcb.pix0114+55799992112000206102342520400005303986540583.005802BR5915Guilherme Viana6007ARACAJU62120508ZAZCPANY63046EFC</textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Card do Boleto -> Caso escolha Boleto -->
                    <div class="col-md-12" id="boleto_div" style="display:none;">

                        <div class="card">
                            <div class="card-body">
                                <div class="row text-center">

                                    <a href="./boleto.pdf" download="boleto.pdf" class="text-black">Baixar boleto
                                        <img src="./images/download-direto.png" class="ms-2" width="17" alt="">
                                    </a>

                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Card do retorno das cobranças -->
                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex justify-content-center row">
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <div class="content-name-client input-group mb-3">
                                            <span class="input-group-text">Nome:</span>
                                            <span class="form-control" id="confirm_nome"></span>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="content-name-client input-group mb-3">
                                            <span class="input-group-text">CPF:</span>
                                            <span class="form-control" id="confirm_cpf"></span>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="content-name-client input-group mb-3">
                                            <span class="input-group-text">Cobrança R$:</span>
                                            <span class="form-control" id="confirm_value"></span>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="content-name-client input-group mb-3">
                                            <span class="input-group-text">Parcelas:</span>
                                            <span class="form-control" id="confirm_parcela"></span>
                                        </div>
                                    </div>
                                    <div class=" col-md-12">
                                        <label for="exampleFormControlTextarea1" class="form-label">Descrição da
                                            cobrança:</label>
                                        <textarea class="form-control" id="desc_note" rows="3"></textarea>
                                    </div>
                                </div>

                                <div class="row d-flex justify-content-around align-items-center text-center">
                                    <div class="col-md-6 col-sm-6"
                                        style="border-right: 1px solid rgba(128, 128, 128, 0.813);">
                                        <h4 class="text-cobranca text-secondary mb-2">Subtotal <span
                                                id="value_subtotal"></span>
                                        </h4>
                                        <h4 class="text-cobranca text-secondary mb-2">Val. Parcelas <span
                                                id="value_parcela"></span>
                                        </h4>
                                    </div>

                                    <div class="col-md-6 col-sm-6">
                                        <h4 class="text-cobranca text-danger mb-2">Tarifa <span
                                                id="value_tarifa"></span>
                                        </h4>
                                        <h3 class="text-cobranca text-success mb-2">Total <span id="value_total"></span>
                                        </h3>
                                    </div>
                                </div>

                            </div>



                        </div>
                    </div>

                    <div class="modal-footer justify-content-md-end">
                        <button type="button" class="btn btn-secondary btn-reset-modal mb-3" id="btn-cancel-modal"
                            data-bs-dismiss="modal">Cancelar</button>
                        <button type="submit" class="btn btn-success mb-3" id="liveAlertBtn">Enviar Cobranca</button>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div class="container">

        <div class="mt-4">
            <div class="page-body">
                <div class="row justify-content-center">
                    <!-- Div do conteúdo da Cobrança -->
                    <div class="exemplo col-md-8">
                        <!-- Card da Cobrança -->
                        <div class="card"
                            style="border-color: white; box-shadow: 0px 0px 12px 6px rgb(182, 181, 181); border-radius: 1em;">

                            <div class="card-header border-0" style="background-color: transparent;">
                                <h3 class="mb-0">Cobrança</h3>
                            </div>

                            <div class="card-body">
                                <!-- Div input name -->
                                <div class="content-name-client input-group mb-3">
                                    <span class="input-group-text">Nome:</span>

                                    <input id="nome_input" class="form-control filter_input" type="text"
                                        placeholder="Nome" aria-label="default input example" required>
                                </div>
                                <!-- Div input CPF -->
                                <div class="content-cpf-client input-group mb-3">
                                    <span class="input-group-text">CPF:</span>

                                    <input id="cpf_input" class="form-control filter_input" type="text"
                                        placeholder="123.456.789-0" aria-label="default input example" required>
                                </div>
                                <!-- Div input E-Mail -->
                                <div class="content-email-client input-group mb-3">
                                    <span class="input-group-text">E-Mail:</span>

                                    <input id="email_input" type="email" class="form-control filter_input"
                                        id="exampleFormControlInput1" placeholder="nome@exemplo.com" required>
                                </div>
                                <!-- Div input Telephone -->
                                <div class="content-email-client input-group mb-3">
                                    <span class="input-group-text">Telefone:</span>

                                    <input id="tel_input" type="tel" class="form-control filter_input"
                                        id="exampleFormControlInput1" placeholder="(00) 0 0000-0000" required>
                                </div>

                                <!-- Div form Value Charge + form Select Payment -->
                                <div class="row">
                                    <!-- Column form Value Charge -->
                                    <div class="col-md-6">
                                        <div class="form-group mb-3">
                                            <label for="value_cobranca" class="form-label">Valor da
                                                cobrança:</label>
                                            <!-- Div input Value Charge -->
                                            <div class="input-group">
                                                <span class="input-group-text">R$</span>

                                                <input type="text" id="valor_input" class="form-control filter_input"
                                                    aria-label="Amount (to the nearest dollar)" placeholder="00,00"
                                                    required>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Column form Select Payment -->
                                    <div class="col-md-6">
                                        <div class="content-form-payment form-group mb-3">
                                            <label for="exampleFormControlInput1" class="form-label">Escolha a forma
                                                de
                                                cobrança:</label>

                                            <select id="select-payment"
                                                class="content-form-payment form-select filter_input"
                                                aria-label="Default select example">
                                                <option value="" selected>Selecione...</option>
                                                <option value="1">Pix</option>
                                                <option value="2">Boleto</option>
                                                <option value="3">Crédito</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <!-- Inputs caso escolha cartão de crédito  -->
                                <div id="card_form" style="display: none;">

                                    <div class="row">

                                        <div class="col-md-7">
                                            <div class="content-name-client input-group mb-3">
                                                <span class="input-group-text">Nome:</span>
                                                <input id="nome_credit_input" class="form-control" type="text"
                                                    placeholder="Digite aqui" aria-label="default input example"
                                                    required>
                                            </div>
                                        </div>
                                        <div class="col-md-5">
                                            <div class="content-name-client input-group mb-3">
                                                <span class="input-group-text">CVC:</span>
                                                <input id="cvc_number_input" class="form-control" type="text"
                                                    placeholder="Digite aqui" aria-label="default input example"
                                                    required>
                                            </div>
                                        </div>
                                        <div class="col-md-7">
                                            <div class="content-name-client input-group mb-3">
                                                <span class="input-group-text">Número</span>
                                                <input id="cardNumber_input" class="form-control" type="text"
                                                    placeholder="0000 0000 0000 0000" aria-label="default input example"
                                                    required>
                                            </div>
                                        </div>
                                        <div class="col-md-5">
                                            <div class="content-name-client input-group mb-3">
                                                <span class="input-group-text">Validade</span>
                                                <input id="expireDate_input" class="form-control" type="text"
                                                    placeholder="06/2024" aria-label="default input example" required>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <!-- Inputs de Parcelas -->
                                <div class="row justify-content-between" id="parcel_form" style="display: none;">
                                    <div class="row col-md-6" id="parcel_check">

                                        <label for="parcel_check" class="form-label">Parcelado:</label>

                                        <div class="col-md-3 mb-3 mb-3">
                                            <div class="form-check">
                                                <input class="form-check-input parcel_check_input" type="radio"
                                                    name="flexRadioDisabled" id="flexRadioChecked" value="1">

                                                <label class="form-check-label" for="flexRadioChecked">
                                                    Sim
                                                </label>
                                            </div>
                                        </div>

                                        <div class="col-md-3 mb-3">
                                            <div class="form-check">
                                                <input class="form-check-input parcel_check_input" type="radio"
                                                    name="flexRadioDisabled" id="flexRadioCheckedDisabled" value="0"
                                                    checked>

                                                <label class="form-check-label" for="flexRadioCheckedDisabled">
                                                    Não
                                                </label>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-6" id="parcel_qtd_div">
                                        <div class="form-group mb-3" id="qtd_parcel">
                                            <label for="qtd_parcel" class="form-label">Quantidade de Parcelas:</label>
                                            <div class="input-group">
                                                <span class="input-group-text">Qtd.</span>
                                                <input type="text" id="parcel_input"
                                                    class="form-control filter_input novalidate" placeholder="03"
                                                    value="1" disabled>
                                            </div>
                                            <p class="mt-1 text-danger" id="parcel_error"></p>
                                        </div>
                                    </div>
                                </div>

                                <!-- Descrição da Cobrança -->
                                <div class="mb-3">
                                    <label for="exampleFormControlTextarea1" class="form-label">Descrição da
                                        cobrança:</label>
                                    <textarea id="description_input" class="form-control filter_input" rows="3"
                                        placeholder="Descreva aqui o que será cobrado"></textarea>
                                </div>
                                <!-- btns  -->
                                <div class="row justify-content-around">
                                    <button class="btn btn-secondary col-5 mb-3" id="btn-new-cobranca" type="reset">
                                        Refazer </button>

                                    <button class="btn btn-success col-5 mb-3 disabled" id="gerar_cobranca"
                                        type="submit" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                                        Confirmar </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


    </div>
    <!-- CDN do Script do Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>

    <!-- Script da biblioteca do JQuery -->
    <script src="./javascript/jquery3-7.min.js"></script>

    <!-- Script da biblioteca do JQuery para fazer Máscara -->
    <script src="./javascript/jquery.mask.js"></script>

    <!-- Script da página de cobrança -->
    <script src="./javascript/cobranca.js"> </script>

    <!-- Scrip Bootstrap para marcar como validado -->
    <script>
        (() => {
            'use strict'

            // Fetch all the forms we want to apply custom Bootstrap validation styles to
            const forms = document.querySelectorAll('.needs-validation')

            // Loop over them and prevent submission
            Array.from(forms).forEach(form => {
                form.addEventListener('submit', event => {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }

                    form.classList.add('was-validated')
                }, false)
            })
        })()
    </script>
</body>

</html>